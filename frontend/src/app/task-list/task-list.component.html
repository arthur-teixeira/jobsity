<section class="main">
  <div *ngIf="hasError" class="error">
    <p>An error has occured.</p>
  </div>

  <div class="topMenu">
    <form [formGroup]="taskForm" class="taskForm">
      <input type="text" formControlName="title" placeholder="Add new task" class="taskInput" />
      <button (click)="createTask()" [disabled]="!taskForm.valid">Add</button>
    </form>
    <nav class="filters">
      <button *ngFor="let filter of filters" (click)="setFilter(filter)"
        [ngClass]="{active: currentFilter === filter}">{{ filter }}</button>
    </nav>
  </div>
  <div class="taskList">
    <app-task *ngFor="let task of filteredTasks" [task]="task" (editEvent)="onTaskEdited($event)"
      (deleteEvent)="onTaskDeleted($event)" (errorEvent)="onError()"></app-task>
  </div>
</section>
